(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{152:function(e,t,a){},153:function(e,t,a){},181:function(e,t){},183:function(e,t){},193:function(e,t){},195:function(e,t){},220:function(e,t){},222:function(e,t){},223:function(e,t){},228:function(e,t){},230:function(e,t){},236:function(e,t){},238:function(e,t){},257:function(e,t){},269:function(e,t){},272:function(e,t){},275:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(51),r=a.n(c),i=a(4),o=a(45),l=a(143),u=a(144),d=a(12),j=a(2),p="LIST_FAIL",b="LIST_SUCCESS",O="LIST_REQUEST",g="LIST_ADD",m="LIST_DETAILS_FAIL",f="LIST_DETAILS_SUCCESS",v="LIST_DETAILS_REQUEST",h="LIST_LOGOUT",_="LIST_ADD_REQUEST",x="LIST_ADD_FAIL",y="LIST_ADD_SUCCESS",S="LIST_SET_ACTIVE",k="TASK_FAIL",w="TASK_SUCCESS",N="TASK_REQUEST",E="TASK_TOGGLE_COMPLETED",T="TASK_DELETE",I="TASK_ADD_SUCCESS",C="TASK_ADD_FAIL",L="TASK_ADD_REQUEST",A="TASK_LOGOUT",U="TASK_DELETE_REQUEST",D="TASK_DELETE_FAIL",F="TASK_DELETE_SUCCESS",K="TASK_ADD_LOCAL",R="TASK_PUT_FAIL",P="TASK_PUT_SUCCESS",M="TASK_PUT_REQUEST",G="USER_LOGIN_REQUEST",J="USER_LOGIN_SUCCESS",Q="USER_LOGIN_FAIL",z="USER_LOGOUT_SUCCESS",W="USER_SET_GUEST",B="USER_SIGNUP_REQUEST",V="USER_SIGNUP_SUCCESS",q="USER_SIGNUP_FAIL",H=Object(o.combineReducers)({lists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{lists:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{loading:!0,lists:[]};case b:return{loading:!1,lists:t.payload};case p:return{loading:!1,error:t.payload};case h:return{loading:!1,lists:[]};case g:return Object(j.a)(Object(j.a)({},e),{},{lists:e.lists?[].concat(Object(d.a)(e.lists),[t.payload]):[t.payload]});case y:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,lists:e.lists?[].concat(Object(d.a)(e.lists),[t.payload]):[t.payload]});case _:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case x:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:t.error});case S:return Object(j.a)(Object(j.a)({},e),{},{active:t.payload});default:return e}},list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{list:{title:"loading"}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return{loading:!0,list:{}};case f:return{loading:!1,list:t.payload};case m:return{loading:!1,error:t.payload};default:return e}},tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tasks:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{loading:!0,tasks:[]};case w:return{loading:!1,tasks:t.payload};case k:return{loading:!1,error:t.payload};case E:var a=Object(d.a)(e.tasks),s=a.findIndex((function(e){return e._id===t.id}));return a[s]=Object(j.a)(Object(j.a)({},a[s]),{},{isCompleted:!a[s].isCompleted}),Object(j.a)(Object(j.a)({},e),{},{tasks:a});case T:var n=e.tasks.filter((function(e){return e._id!==t.id}));return Object(j.a)(Object(j.a)({},e),{},{tasks:n});case U:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case D:var c=e.tasks?[t.original].concat(Object(d.a)(e.tasks)):[t.original];return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:t.error,tasks:c});case F:var r=e.tasks.filter((function(e){return e._id!==t.id}));return Object(j.a)(Object(j.a)({},e),{},{loading:!1,tasks:r});case I:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,tasks:e.tasks?[].concat(Object(d.a)(e.tasks),[Object(j.a)({},t.payload)]):[Object(j.a)({},t.payload)]});case L:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case C:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:t.payload});case K:return Object(j.a)(Object(j.a)({},e),{},{guest:!0,tasks:e.tasks?[].concat(Object(d.a)(e.tasks),[t.payload]):[t.payload]});case M:return Object(j.a)(Object(j.a)({},e),{},{loading:!0,original:e.tasks});case R:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:t.error,tasks:Object(d.a)(e.original)});case P:var i=Object(d.a)(e.tasks);if(i){var o=i.findIndex((function(e){return e._id===t.payload._id}));i[o]=t.payload}return Object(j.a)(Object(j.a)({},e),{},{tasks:i});case A:return{loading:!1,tasks:[]};default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(j.a)(Object(j.a)({},e),{},{loading:!0,user:{},success:null,guest:!0});case J:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,user:t.payload,message:t.message,success:t.success,guest:!1});case Q:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:t.payload,message:t.message,success:t.success,guest:!0});case z:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,user:{},success:!1,guest:!0});case W:return{user:{_id:"guest"},guest:!0};case B:return Object(j.a)(Object(j.a)({},e),{},{loading:!0,user:{},success:null});case V:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,user:t.payload,message:t.message,success:t.success,guest:!1});case q:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:t.payload,message:t.message,success:t.success});default:return e}}}),X=[l.a],Y=Object(o.createStore)(H,{},Object(u.composeWithDevTools)(o.applyMiddleware.apply(void 0,X))),Z=(a(152),a(153),a(11)),$=a(7),ee=a(0),te=function(){return Object(ee.jsxs)("div",{children:[Object(ee.jsx)("div",{className:"home__title",children:" Today "}),Object(ee.jsxs)("div",{className:"home__text--center",children:["The forecast is cloudy with a chance of meatballs.",Object(ee.jsx)("br",{}),"W.I.P."]})]})},ae=a(8),se=a.p+"static/media/checkmark-filled.59143302.svg",ne=a.p+"static/media/checkmark-unfilled.f335fbb9.svg",ce=function(e){var t=e.children;return Object(ee.jsx)("span",{className:"icon",children:Object(ee.jsx)("span",{className:"wrapper",children:t})})},re=function(e){var t=e.children,a=e.show;return Object(ee.jsx)("span",{className:a?"hoverable-content active":"hoverable-content",children:t})},ie=a.p+"static/media/trash.b98460f2.svg",oe=a(9),le=a.n(oe),ue=a(17),de=a(15),je=a.n(de),pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var a=Object(ue.a)(le.a.mark((function a(s){var n,c;return le.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t){a.next=20;break}return a.prev=1,s({type:M}),s({type:E,id:e}),a.next=6,je.a.put("/api/tasks/".concat(e,"/complete"));case 6:if(n=a.sent,!(c=n.data)){a.next=12;break}s({type:P,payload:c}),a.next=13;break;case 12:throw new Error("Failed to delete task.");case 13:a.next=18;break;case 15:a.prev=15,a.t0=a.catch(1),s({type:R,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 18:a.next=21;break;case 20:s({type:E,id:e});case 21:case"end":return a.stop()}}),a,null,[[1,15]])})));return function(e){return a.apply(this,arguments)}}()},be=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(){var t=Object(ue.a)(le.a.mark((function t(a){var s,n,c;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=15;break}return t.prev=1,a({type:N}),t.next=5,je.a.get("/api/tasks");case 5:s=t.sent,n=s.data,a({type:w,payload:n}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:k,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 13:t.next=17;break;case 15:c=JSON.parse(window.localStorage.getItem("state")),a({type:w,payload:c?c.tasks:null});case 17:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},Oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var a=Object(ue.a)(le.a.mark((function a(s){var n,c,r,i;return le.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t){a.next=15;break}return a.prev=1,s({type:L}),a.next=5,je.a.post("/api/tasks",e);case 5:n=a.sent,c=n.data,s({type:I,payload:c}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),s({type:C,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 13:a.next=19;break;case 15:r=JSON.parse(window.localStorage.getItem("state")),i=r?Object(j.a)(Object(j.a)({},r),{},{tasks:r.tasks?[].concat(Object(d.a)(r.tasks),[e]):[e]}):{tasks:[e]},window.localStorage.setItem("state",JSON.stringify(i)),s({type:I,payload:e});case 19:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()},ge=function(e){var t=e.item,a=Object(s.useState)(!1),n=Object(ae.a)(a,2),c=n[0],r=n[1],o=Object(i.c)(),l=Object(i.d)((function(e){return e.tasks.tasks.find((function(e){return e===t}))}),i.b).isCompleted,u=Object(i.d)((function(e){return e.user.guest})),p=function(e){e.currentTarget.parentElement.parentElement.className="task completed",e.currentTarget.src=se},b=function(e){e.currentTarget.parentElement.parentElement.className="task",e.currentTarget.src=ne},O=function(){o(pe(t._id,u))};return Object(ee.jsxs)("div",{className:l?"task completed":"task",onMouseOver:function(){return r(!0)},onMouseOut:function(){return r(!1)},children:[Object(ee.jsxs)("div",{className:"task__wrapper",children:[l?Object(ee.jsx)("img",{src:se,onMouseOver:b,onMouseOut:p,onClick:O,alt:"filled checkmark"}):Object(ee.jsx)("img",{src:ne,onMouseOver:p,onMouseOut:b,onClick:O,alt:"unfilled checkmark"})," ",Object(ee.jsx)("div",{className:"task__title",children:t.title})]}),Object(ee.jsx)(re,{show:c,children:Object(ee.jsx)(ce,{children:Object(ee.jsx)("img",{className:"task__delete",src:ie,onClick:function(){o(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var a=Object(ue.a)(le.a.mark((function a(s){var n,c;return le.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t){a.next=19;break}return a.prev=1,s({type:U}),s({type:T,id:e._id}),a.next=6,je.a.delete("/api/tasks/".concat(e._id));case 6:if(!a.sent){a.next=11;break}s({type:F,id:e._id}),a.next=12;break;case 11:throw new Error("Failed to delete task.");case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(1),s({type:D,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message,original:e});case 17:a.next=23;break;case 19:n=JSON.parse(window.localStorage.getItem("state")),c=n?Object(j.a)(Object(j.a)({},n),{},{tasks:n.tasks?Object(d.a)(n.tasks).filter((function(t){return t._id!==e._id})):[]}):{tasks:[e]},window.localStorage.setItem("state",JSON.stringify(c)),s({type:F,payload:e});case 23:case"end":return a.stop()}}),a,null,[[1,14]])})));return function(e){return a.apply(this,arguments)}}()}(t,u))},alt:"trash"})})})]})},me=function(e){var t=e.title,a=void 0===t?"title here":t,n=e.activeProp,c=void 0!==n&&n,r=e.children,i=e.desiredClass,o=void 0===i?"sidebar__category-title":i,l=e.assetShow,u=e.assetNoShow,d=e.frontIconShow,j=e.frontIconNoShow,p=Object(s.useState)(!1),b=Object(ae.a)(p,2),O=b[0],g=b[1];Object(s.useEffect)((function(){g(c)}),[c]);return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)("div",{className:O?"hideable active":"hideable",children:[Object(ee.jsxs)("div",{className:o,onClick:function(){g(!O)},children:[Object(ee.jsxs)("span",{className:"wrapper--fs",children:[d||j?Object(ee.jsx)(ce,{children:O?Object(ee.jsx)("img",{className:"hideable__icon--front",src:d,alt:"front"}):Object(ee.jsx)("img",{className:"hideable__icon--front",src:j,alt:"front"})}):""," ",a]}),l||u?Object(ee.jsx)(ce,{children:O?Object(ee.jsx)("img",{src:l}):Object(ee.jsx)("img",{src:u})}):""]}),Object(ee.jsx)("div",{className:O?"hideable-content active":"hideable-content",children:r})]})})},fe=n.a.memo((function(e){var t=e.list,a=e.showCompleted,s=void 0!==a&&a,n=Object(i.d)((function(e){return e.tasks})).tasks;return Object(ee.jsxs)("div",{className:"list",children:[Object(ee.jsx)("div",{className:"list__title",children:t?t.title:""}),Object(ee.jsx)("div",{className:"list__title-2",children:"Tasks"}),Object(ee.jsxs)("div",{className:"tasks",children:[n?n.filter((function(e){return e.list===t._id&&!1===e.isCompleted})).map((function(e){return Object(ee.jsx)(ge,{item:e},e._id)})):"",Object(ee.jsx)(me,{title:"Show completed Tasks",desiredClass:"tasks__completed-title",activeProp:s,children:n?n.filter((function(e){return e.list===t._id&&!0===e.isCompleted})).map((function(e){return Object(ee.jsx)(ge,{item:e},e._id)})):""})]})]})})),ve=n.a.forwardRef((function(e,t){var a=e.list,n=Object(i.c)(),c=Object(i.d)((function(e){return e.user})),r=c.user,o=c.guest,l=Object(s.useState)(""),u=Object(ae.a)(l,2),j=u[0],p=u[1];return Object(ee.jsx)("input",{type:"string",value:j,onChange:function(e){return p(e.currentTarget.value)},onKeyDown:function(e){var t=j.trim();if(13===e.which&&t){if(o){var s=function(){var e=JSON.parse(window.localStorage.getItem("state")),t=e?e.tasks:null;return t?Math.max.apply(Math,Object(d.a)(t.map((function(e){return Number(e._id)}))))+1:0}();!function(e,t,a,s){var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"no description",r={_id:t.toString(),title:s,description:c,list:a,user:"guest",isCompleted:n};e(Oe(r,!0))}(n,s,a._id,t)}else n(Oe({title:t,description:"no description",list:a._id,user:r._id}));p("")}},placeholder:"Add a task...",className:"task__input",ref:t})})),he=a.p+"static/media/spinner.84973c0d.svg",_e=function(){return Object(ee.jsx)("div",{className:"spinner",children:Object(ee.jsx)("img",{src:he,alt:"spinner"})})},xe=function(e){var t=e.match,a=Object(s.useRef)(),n=Object(s.useRef)(),c=Object($.f)(),r=Object(s.useState)({}),o=Object(ae.a)(r,2),l=o[0],u=o[1],d=Object(s.useState)(0),j=Object(ae.a)(d,2),p=j[0],b=j[1],O=Object(i.c)(),g=Object(i.d)((function(e){return e.lists})),m=g.loading,f=g.lists,v=Object(i.d)((function(e){return e.tasks})).tasks,h=Object(s.useState)(!1),_=Object(ae.a)(h,2),x=_[0],y=_[1],k=Object(i.d)((function(e){return e.user.guest}));Object(s.useEffect)((function(){a&&a.current&&a.current.focus();var e=f?f.find((function(e){return e._id===t.params.id})):null;u(e),e&&(document.title="Todooos | ".concat(e.title)),b(f?f.findIndex((function(e){return e._id===t.params.id})):0),O({type:S,payload:e})}),[O,t,f]);return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("div",{className:"list__screen",ref:a,tabIndex:"-1",onKeyDown:function(e){if(console.log(document.activeElement),console.log("key press detected"),console.log(e.key),"ArrowRight"===e.key&&p+1<f.length)c.push("/lists/".concat(f[p+1]._id));else if("ArrowLeft"===e.key&&p-1>=0)c.push("/lists/".concat(f[p-1]._id));else if(" "===e.key&&document.activeElement!==n.current)y(!x);else if("d"===e.key&&document.activeElement!==n.current){var t=v.filter((function(e){return e.list===l._id&&!1===e.isCompleted})),s=t?t[0]:null;s&&O({type:T,id:s._id})}else if("c"===e.key&&document.activeElement!==n.current){var r=v.filter((function(e){return e.list===l._id&&!1===e.isCompleted})),i=r?r[0]:null;i&&O(pe(i._id,k))}else"Enter"===e.key&&document.activeElement!==n.current?n.current.focus():"Escape"!==e.key&&"F12"!==e.key||(document.activeElement.blur(),a.current.focus())},children:l?Object(ee.jsx)(ee.Fragment,{children:m?Object(ee.jsx)(_e,{}):Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(fe,{list:l,showCompleted:x}),Object(ee.jsx)(ve,{ref:n,list:l})]})}):""})})},ye=function(e){var t=e.list,a=Object(i.d)((function(e){return e.lists})).active;return Object(ee.jsx)("div",{children:Object(ee.jsx)(Z.b,{to:"/lists/".concat(t._id),children:Object(ee.jsxs)("div",{className:a&&t&&a._id===t._id?"sidebar__category__item--active":"sidebar__category__item",children:[Object(ee.jsx)("span",{className:"wrapper--hi",children:Object(ee.jsx)("span",{className:t.color?"sidebar__category__item-label "+t.color:"sidebar__category__item-label"})}),t.title]})})})},Se=function(){var e=Object(s.useState)("25"),t=Object(ae.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)("00"),r=Object(ae.a)(c,2),i=r[0],o=r[1],l=Object(s.useState)(null),u=Object(ae.a)(l,2),d=u[0],j=u[1],p=Object(s.useState)(!1),b=Object(ae.a)(p,2),O=b[0],g=b[1];return Object(ee.jsxs)("div",{className:"timer",children:[Object(ee.jsx)("div",{className:"timer__clock",children:Object(ee.jsxs)("div",{className:"wrapper--none",children:[Object(ee.jsx)("input",{className:"timer__clock__input",type:"number",value:a,onChange:function(e){e.target.value="0"===e.target.value[0]?e.target.value.substr(1):e.target.value,e.target.value=0===e.target.value.length?"00":1===e.target.value.length?"0"+e.target.value:e.target.value,n(e.target.value>59?59:e.target.value)}}),":",Object(ee.jsx)("input",{className:"timer__clock__input",type:"number",value:i,onChange:function(e){e.target.value="0"===e.target.value[0]?e.target.value.substr(1):e.target.value,e.target.value=0===e.target.value.length?"00":1===e.target.value.length?"0"+e.target.value:e.target.value,o(e.target.value>59?59:e.target.value)}})]})}),Object(ee.jsxs)("div",{className:"flex",children:[Object(ee.jsx)("button",{disabled:!!O,className:"start",onClick:function(){var e=a,t=i;g(!0);var s=setInterval((function(){if("00"===t&&"00"===e)return console.log("done"),clearInterval(s),n("00"),void o("00");t<=0?(e=--e<=9?"0"+e:e,t="59"):t=--t<=9?"0"+t:t,n(e),o(t),console.log("set minutes")}),1e3);j(s)},children:"start"}),Object(ee.jsx)("button",{disabled:!O,className:"stop",onClick:function(){g(!1),clearInterval(d)},children:"stop"})]})]})},ke=a.p+"static/media/arrow-down.30ca5108.svg",we=a.p+"static/media/arrow-left.08aac97b.svg",Ne=a.p+"static/media/user.4a000e6c.svg",Ee=(a(174),function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(){var t=Object(ue.a)(le.a.mark((function t(a){var s,n,c;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=17;break}return t.prev=1,a({type:O}),console.log("dispatched"),t.next=6,je.a.get("/api/lists");case 6:s=t.sent,n=s.data,a({type:b,payload:n}),console.log("success"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),a({type:p,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:t.next=19;break;case 17:c=JSON.parse(window.localStorage.getItem("state")),a({type:b,payload:c?c.lists:null});case 19:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()}),Te=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var a=Object(ue.a)(le.a.mark((function a(s){var n,c,r,i;return le.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t){a.next=17;break}return a.prev=1,s({type:_}),a.next=5,je.a.post("/api/lists",e);case 5:n=a.sent,c=n.data,console.log("got data and it is"),console.log(c),c&&c._id&&s({type:y,payload:c}),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(1),s({type:x,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 15:a.next=21;break;case 17:r=JSON.parse(window.localStorage.getItem("state")),i=r?Object(j.a)(Object(j.a)({},r),{},{lists:[].concat(Object(d.a)(r.lists),[e])}):{lists:[e]},window.localStorage.setItem("state",JSON.stringify(i)),s({type:g,payload:e});case 21:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(e){return a.apply(this,arguments)}}()},Ie=function(e,t,a,s){return function(){var n=Object(ue.a)(le.a.mark((function n(c){var r,i,o;return le.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c({type:B}),r={email:e,name:t+" "+a,password:s},n.next=6,je.a.post("/signup",r);case 6:i=n.sent,(o=i.data)&&o.token&&c({type:V,payload:o,message:"Success",success:!0}),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),console.log("Error: ".concat(n.t0.message)),c({type:q,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message,message:"Signup Failed",success:!1});case 15:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},Ce=function(e,t){return function(){var a=Object(ue.a)(le.a.mark((function a(s){var n,c,r;return le.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,s({type:G}),n={email:e,password:t},a.next=5,je.a.post("/login/",n);case 5:if(c=a.sent,!(r=c.data)||!r.token){a.next=11;break}s({type:J,payload:r,message:"Success",success:!0}),a.next=12;break;case 11:throw new Error("Incorrect password or email address.");case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),s({type:Q,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message,message:"Login Failed",success:!1});case 17:case"end":return a.stop()}}),a,null,[[0,14]])})));return function(e){return a.apply(this,arguments)}}()},Le=function(e){var t=e.user,a=e.profilePic,n=Object(i.c)(),c=Object(s.useState)(!1),r=Object(ae.a)(c,2),o=r[0],l=r[1];return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("div",{className:"user--available",onMouseOver:function(){return l(!0)},onMouseOut:function(){return l(!1)},children:o?Object(ee.jsx)("div",{className:"wrapper--w100",children:Object(ee.jsx)("div",{className:"wrapper--horizontal",children:Object(ee.jsxs)(Z.b,{className:"button user__sign-out",to:"/logout",onClick:function(){n(function(){var e=Object(ue.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je.a.delete("/logout");case 3:e.sent.data,t({type:z}),t({type:h}),t({type:A}),t(Ee(!0)),t(be(!0)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}())},children:["Sign out"," "]})})}):Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("div",{className:"user__wrapper--profile-pic",children:Object(ee.jsx)(ce,{children:Object(ee.jsx)("img",{className:"user__profile-pic",src:a})})}),Object(ee.jsx)("div",{className:"wrapper user--available__text",children:t.name})]})})})},Ae=function(){var e=Object(i.d)((function(e){return e.user})).user;return Object(ee.jsx)(ee.Fragment,{children:e&&e.name?Object(ee.jsx)(Le,{user:e,profilePic:Ne}):Object(ee.jsx)("div",{className:"user--unavailable",children:Object(ee.jsx)("div",{className:"wrapper",children:Object(ee.jsx)("div",{className:"wrapper--horizontal",children:Object(ee.jsxs)(Z.b,{to:"/login",className:"button",children:["Sign in"," "]})})})})})},Ue=function(){var e=Object(i.c)(),t=Object(i.d)((function(e){return e.user})),a=t.user,n=t.guest,c=Object(s.useState)(""),r=Object(ae.a)(c,2),o=r[0],l=r[1];return Object(ee.jsx)("input",{type:"string",value:o,onChange:function(e){return l(e.currentTarget.value)},onKeyDown:function(t){var s=o.trim();if(13===t.which&&s)if(n){var c=function(){var e=JSON.parse(window.localStorage.getItem("state")),t=e?e.lists:null;return t?Math.max.apply(Math,Object(d.a)(t.map((function(e){return Number(e._id)}))))+1:0}();e(Te({_id:c.toString(),title:s,description:"no description",color:"blue",user:"guest"},!0)),l("")}else e(Te({title:s,description:"no description",color:"blue",user:a._id},n)),l("")},placeholder:"Add a list...",className:" sidebar__category__item list__input"})},De=a.p+"static/media/bird.1f8088fb.svg",Fe=a.p+"static/media/today.8cd164b6.svg",Ke=a.p+"static/media/tomorrow.aaf61ddb.svg",Re=a.p+"static/media/list.4a8eccb8.svg",Pe=a.p+"static/media/timer.67b434f5.svg",Me=a.p+"static/media/today--purple.7155be65.svg",Ge=a.p+"static/media/tomorrow--purple.16497b27.svg",Je=a.p+"static/media/list--purple.e6bfd571.svg",Qe=a.p+"static/media/timer--purple.385f219e.svg",ze=function(){var e=Object($.f)(),t=Object(i.d)((function(e){return e.lists})).lists;return Object(ee.jsxs)("div",{className:"sidebar",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("div",{className:"logo",onClick:function(){e.push("/")},children:[Object(ee.jsx)("img",{className:"logo__icon",src:De}),"todooos"]}),Object(ee.jsx)(me,{frontIconShow:Me,frontIconNoShow:Fe,activeProp:!1,title:"Today"}),Object(ee.jsx)(me,{frontIconShow:Ge,frontIconNoShow:Ke,activeProp:!1,title:"Tomorrow"}),Object(ee.jsx)(me,{frontIconNoShow:Pe,frontIconShow:Qe,activeProp:!1,title:"Timer",assetShow:ke,assetNoShow:we,children:Object(ee.jsx)(Se,{})}),Object(ee.jsx)(me,{frontIconNoShow:Re,frontIconShow:Je,activeProp:!0,title:"Lists",assetShow:ke,assetNoShow:we,children:Object(ee.jsxs)("div",{className:"sidebar__category",children:[t?t.map((function(e){return Object(ee.jsx)(ye,{list:e,children:" "},e._id)})):"",Object(ee.jsx)(Ue,{})]})})]}),Object(ee.jsx)(Ae,{})]})},We=function(){var e=Object($.f)(),t=Object(i.c)(),a=Object(s.useState)(""),n=Object(ae.a)(a,2),c=n[0],r=n[1],o=Object(s.useState)(""),l=Object(ae.a)(o,2),u=l[0],d=l[1],j=Object(i.d)((function(e){return e.user})),p=j.loading,b=j.message,O=j.success,g=j.error,m=j.user,f=j.guest,v=function(e){13===e.which&&(console.log("got enter key"),t(Ce(c,u)))};return Object(s.useEffect)((function(){document.title="Todooos | Login",O&&(e.push("/"),t(be()),t(Ee(f)))}),[O]),Object(ee.jsxs)(ee.Fragment,{children:[O&&m._id&&Object(ee.jsx)($.a,{to:"/"}),Object(ee.jsx)("div",{className:"login__wrapper",children:p?Object(ee.jsx)(_e,{}):Object(ee.jsxs)("div",{className:"login__form",children:[Object(ee.jsx)("div",{className:"login__form__title",children:"Sign in"}),Object(ee.jsxs)("div",{className:"login__form__input",children:["Email",Object(ee.jsx)("input",{type:"text",value:c,placeholder:"",onChange:function(e){r(e.target.value)},onKeyDown:v})]}),Object(ee.jsxs)("div",{className:"login__form__input",children:["Password",Object(ee.jsx)("input",{type:"password",value:u,placeholder:"",onChange:function(e){d(e.target.value)},onKeyDown:v})]}),Object(ee.jsxs)("div",{className:"wrapper--between login__button__wrapper",children:[Object(ee.jsx)(Z.b,{onClick:function(){t(Ce(c,u))},className:"button--primary",to:"/login/?email=".concat(c),children:"Log in"}),Object(ee.jsx)(Z.b,{to:"/signup/",className:"button--secondary",children:"Sign up"})]}),Object(ee.jsx)("div",{className:"wrapper",onClick:function(){t({type:W})},children:Object(ee.jsx)("div",{className:"wrapper--horizontal",children:Object(ee.jsx)(Z.b,{className:"button",to:"/",children:"Don't want to sign in? Continue as a Guest..."})})}),Object(ee.jsx)("div",{className:O?"login__message--success":"login__message--failure",children:O?b:g})]})})]})},Be=function(){var e=Object(i.d)((function(e){return e.user})),t=e.loading;e.user;return Object(ee.jsx)(ee.Fragment,{children:t?Object(ee.jsx)(_e,{}):Object(ee.jsx)($.a,{to:"/"})})},Ve=function(){var e=Object($.f)(),t=Object(i.c)(),a=Object(s.useState)(""),n=Object(ae.a)(a,2),c=n[0],r=n[1],o=Object(s.useState)(""),l=Object(ae.a)(o,2),u=l[0],d=l[1],j=Object(s.useState)(""),p=Object(ae.a)(j,2),b=p[0],O=p[1],g=Object(s.useState)(""),m=Object(ae.a)(g,2),f=m[0],v=m[1],h=Object(i.d)((function(e){return e.user})),_=h.loading,x=h.message,y=h.success,S=h.error,k=h.user,w=h.guest,N=function(e){13===e.which&&(console.log("got enter key"),t(Ie(c,b,f,u)))};return Object(s.useEffect)((function(){document.title="Todooos | Sign Up",y&&(e.push("/"),t(be()),t(Ee(w)))}),[y]),Object(ee.jsxs)(ee.Fragment,{children:[y&&k._id&&Object(ee.jsx)($.a,{to:"/"}),Object(ee.jsx)("div",{className:"login__wrapper",children:_?Object(ee.jsx)(_e,{}):Object(ee.jsxs)("div",{className:"login__form",children:[Object(ee.jsx)("div",{className:"login__form__title",children:"Sign up for free"}),Object(ee.jsxs)("div",{className:"wrapper--between",children:[Object(ee.jsxs)("div",{className:"signup__form__input first-name",children:["First Name",Object(ee.jsx)("input",{type:"text",value:b,placeholder:"",onChange:function(e){O(e.target.value)},onKeyDown:N})]}),Object(ee.jsxs)("div",{className:"signup__form__input last-name",children:["Last Name",Object(ee.jsx)("input",{type:"text",value:f,placeholder:"",onChange:function(e){v(e.target.value)},onKeyDown:N})]})]}),Object(ee.jsxs)("div",{className:"login__form__input",children:["Email",Object(ee.jsx)("input",{type:"text",value:c,placeholder:"",onChange:function(e){r(e.target.value)},onKeyDown:N})]}),Object(ee.jsxs)("div",{className:"login__form__input",children:["Password",Object(ee.jsx)("input",{type:"Password",value:u,placeholder:"",onChange:function(e){d(e.target.value)},onKeyDown:N})]}),Object(ee.jsxs)("div",{className:"wrapper--between login__button__wrapper",children:[Object(ee.jsx)(Z.b,{onClick:function(){t(Ie(c,b,f,u))},className:"button--primary",to:"/signup/?email=".concat(c),children:"Sign up"}),Object(ee.jsx)(Z.b,{to:"/login/",className:"button--secondary",children:"Cancel"})]}),Object(ee.jsx)("div",{className:"wrapper",onClick:function(){t({type:W})},children:Object(ee.jsx)("div",{className:"wrapper--horizontal",children:Object(ee.jsx)(Z.b,{className:"button",to:"/",children:"Don't want to sign in? Continue as a Guest..."})})}),Object(ee.jsx)("div",{className:y?"login__message--success":"login__message--failure",children:y?x:S})]})})]})};var qe=function(){var e=Object(i.c)(),t=Object(i.d)((function(e){return e.user})),a=(t.guest,t.loading);return Object(s.useEffect)((function(){e(function(){var e=Object(ue.a)(le.a.mark((function e(t){var a,s;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:G}),e.next=4,je.a.get("/login/verify/?hOtoken=true");case 4:a=e.sent,(s=a.data)&&s.name&&(t({type:J,payload:s,message:"Success",success:!0}),t(Ee(!1)),t(be(!1))),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:Q,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,message:"Login Failed",success:!1}),console.log("Error: ".concat(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)(Z.a,{children:[Object(ee.jsx)($.b,{path:"/login",component:We}),Object(ee.jsx)($.b,{path:"/signup",component:Ve}),Object(ee.jsx)("div",{className:"main",children:a?Object(ee.jsx)(_e,{}):Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(ze,{}),Object(ee.jsxs)("div",{className:"content",children:[Object(ee.jsx)($.b,{path:"/",component:te,exact:!0}),Object(ee.jsx)($.b,{path:"/lists/:id",component:xe}),Object(ee.jsx)($.b,{path:"/logout",component:Be,exact:!0})]})]})})]})})};Y.dispatch(Ee(!0)),Y.dispatch(be(!0)),r.a.render(Object(ee.jsx)(n.a.StrictMode,{children:Object(ee.jsxs)(i.a,{store:Y,children:[Object(ee.jsx)(qe,{})," "]})}),document.getElementById("root"))}},[[275,1,2]]]);
//# sourceMappingURL=main.234414d6.chunk.js.map